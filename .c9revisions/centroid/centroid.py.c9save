{"ts":1352635702832,"silentsave":true,"restoring":false,"patch":[[]],"length":0}
{"contributors":[],"silentsave":false,"ts":1352635712576,"patch":[[{"diffs":[[1,"\nfrom PIL import *"]],"start1":0,"start2":0,"length1":0,"length2":18}]],"length":18,"saved":false}
{"contributors":["me@thanod.nl","meneer@koenbollen.nl","arnoud@tumblr.com"],"silentsave":false,"ts":1352637429197,"patch":[[{"diffs":[[1,"\nimport sys\nimport Image"],[0,"\nfrom "],[-1,"PIL"],[1,"math"],[0," imp"]],"start1":0,"start2":0,"length1":13,"length2":38},{"diffs":[[0,"import *"],[1,"\nfrom collections import namedtuple\n\nvector = namedtuple(\"vector\", \"x y\")\nvector.length = lambda self:sqrt(self.x**2 + self.y**2)\n\ndef G(data, x, y):\n    return vector( data[x+1,y]-data[x-1,y], data[x,y+1]-data[x,y-1] )\n\ndef main():\n    \n    for filename in sys.argv[1:]:\n        try:\n            img = Image.open( filename )\n        except:\n            print >>sys.stderr, \"couldn't open\", filename\n            continue\n        print filename, img.size, img.format, img.mode\n        \n        data = img.load()\n        for y in xrange(img.size[1]):\n            for x in xrange(img.size[0]):\n                print data[x,y]\n                g = G(data, x, y)\n                r, a = g.length(), atan2(g.y, g.x)\n                \n        \nif __name__ == \"__main__\":\n    main()"]],"start1":35,"start2":35,"length1":8,"length2":779}]],"length":814,"saved":false}
{"ts":1352637799526,"patch":[[{"diffs":[[0,"da self:"],[1," "],[0,"sqrt(sel"]],"start1":137,"start2":137,"length1":16,"length2":17},{"diffs":[[0,".y**2)\n\n"],[1,"RA = namedtuple(\"RA\",\"r a\")\nRA.fromVector = lambda v: RA(v.length(), atan2(v.y, v.x)) #4&5\n\n"],[0,"def G(da"]],"start1":167,"start2":167,"length1":16,"length2":108},{"diffs":[[0,"x,y-1] )"],[1," #2&3"],[0,"\n\ndef ma"]],"start1":347,"start2":347,"length1":16,"length2":21},{"diffs":[[0,".load()\n"],[1,"        ras = []\n"],[0,"        "]],"start1":644,"start2":644,"length1":16,"length2":33},{"diffs":[[0,"for y in xrange("],[1,"1,"],[0,"img.size[1]):\n  "]],"start1":677,"start2":677,"length1":32,"length2":34},{"diffs":[[0,".size[1]"],[1,"-1"],[0,"):\n     "]],"start1":698,"start2":698,"length1":16,"length2":18},{"diffs":[[0," xrange("],[1,"1,"],[0,"img.size"]],"start1":731,"start2":731,"length1":16,"length2":18},{"diffs":[[0,".size[0]"],[1,"-1"],[0,"):\n     "]],"start1":744,"start2":744,"length1":16,"length2":18},{"diffs":[[0,"   r"],[-1,", "],[0,"a = "],[-1,"g.length(), atan2(g.y, g.x)"],[1,"RA.fromVector(g)\n                ras.append(ra)\n                \n        c = sum(map(lambda x: x.r*x.a,ras)) / sum(map(lambda x: x.r,ras)) #6"],[0,"\n   "]],"start1":836,"start2":836,"length1":41,"length2":153}]],"length":1049,"saved":false}
{"ts":1352637829516,"patch":[[{"diffs":[[0,"as)) #6\n"],[1,"        print c\n"],[0,"        "]],"start1":978,"start2":978,"length1":16,"length2":32}]],"length":1065,"saved":false}
{"ts":1352637991600,"patch":[[{"diffs":[[0,",\"r a\")\n"],[-1,"RA.fromV"],[1,"v"],[0,"ector"],[1,"2ra"],[0," = lambd"]],"start1":195,"start2":195,"length1":29,"length2":25},{"diffs":[[0,"            "],[1,"#"],[0,"print data[x"]],"start1":757,"start2":757,"length1":24,"length2":25},{"diffs":[[0,"a = "],[-1,"RA.fromV"],[1,"v"],[0,"ector"],[1,"2ra"],[0,"(g)\n"]],"start1":837,"start2":837,"length1":21,"length2":17},{"diffs":[[0," print c"],[1,", len(ras)"],[0,"\n       "]],"start1":986,"start2":986,"length1":16,"length2":26}]],"length":1068,"saved":false}
{"ts":1352638248088,"patch":[[{"diffs":[[0,"ain():\n    \n"],[1,"    result = []\n"],[0,"    for file"]],"start1":363,"start2":363,"length1":24,"length2":40},{"diffs":[[0,"gv[1:]:\n"],[-1,""],[0,"        "]],"start1":417,"start2":417,"length1":16,"length2":16},{"diffs":[[0,"   print"],[1," >>sys.stderr,"],[0," filenam"]],"start1":579,"start2":579,"length1":16,"length2":30},{"diffs":[[0,"1):\n"],[-1,"                #print data[x,y]\n"],[0,"    "]],"start1":779,"start2":779,"length1":41,"length2":8},{"diffs":[[0,"   print"],[1," >>sys.stderr,"],[0," c, len("]],"start1":981,"start2":981,"length1":16,"length2":30},{"diffs":[[0,"as)\n        "],[1,"\n"],[0,"        "],[-1,"\n    "],[1,"result.append( c )\n    print json.dumps(result)\n"],[0,"    \nif __na"]],"start1":1012,"start2":1012,"length1":37,"length2":81}]],"length":1123,"saved":false}
{"ts":1352639148342,"patch":[[{"diffs":[[0,"medtuple"],[1,"\nimport json\nimport numpy"],[0,"\n\nvector"]],"start1":70,"start2":70,"length1":16,"length2":41},{"diffs":[[0,"    "],[-1,"print >>sys.stderr, filename, img.size, img.format, img.mode\n        \n        data = img.load("],[1,"\n        data = numpy.asarray(img"],[0,")\n  "]],"start1":603,"start2":603,"length1":102,"length2":41},{"diffs":[[0,"size[0]-"],[-1,"1"],[1,"2"],[0,"):\n     "]],"start1":735,"start2":735,"length1":17,"length2":17},{"diffs":[[0,"        "],[1,"print data[x,y],\n                \n                #"],[0,"g = G(da"]],"start1":755,"start2":755,"length1":16,"length2":67},{"diffs":[[0,"        "],[1,"#"],[0,"ra = vec"]],"start1":840,"start2":840,"length1":16,"length2":17},{"diffs":[[0,"        "],[1,"#"],[0,"ras.appe"]],"start1":875,"start2":875,"length1":16,"length2":17},{"diffs":[[0,".append("],[1," "],[0,"ra"],[1," "],[0,")\n      "]],"start1":887,"start2":887,"length1":18,"length2":20},{"diffs":[[0,"a )\n            "],[1,"print\n"],[0,"    \n        c ="]],"start1":897,"start2":897,"length1":32,"length2":38},{"diffs":[[0,"x.r*x.a,"],[1," "],[0,"ras)) / "]],"start1":954,"start2":954,"length1":16,"length2":17},{"diffs":[[0," x: x.r,"],[1," "],[0,"ras)) #6"]],"start1":985,"start2":985,"length1":16,"length2":17},{"diffs":[[0," #6\n"],[-1,"        print >>sys.stderr, c, len(ras)\n"],[0,"    "]],"start1":999,"start2":999,"length1":48,"length2":8}]],"length":1110,"saved":false}
{"ts":1352639156672,"patch":[[{"diffs":[[0,"size[1]-"],[-1,"1"],[1,"2"],[0,"):\n     "]],"start1":689,"start2":689,"length1":17,"length2":17},{"diffs":[[0,"size[0]-"],[-1,"2"],[1,"1"],[0,"):\n     "]],"start1":735,"start2":735,"length1":17,"length2":17}]],"length":1110,"saved":false}
{"ts":1352639186571,"patch":[[{"diffs":[[0,"ay(img)\n"],[1,"        print data\n"],[0,"        "]],"start1":634,"start2":634,"length1":16,"length2":35},{"diffs":[[0,"   ras = []\n"],[-1,""],[0,"        for "]],"start1":666,"start2":666,"length1":24,"length2":24},{"diffs":[[0,"size[0]-"],[-1,"1"],[1,"2"],[0,"):\n     "]],"start1":754,"start2":754,"length1":17,"length2":17},{"diffs":[[0,"                "],[1,"pass\n                #"],[0,"print data[x,y],"]],"start1":766,"start2":766,"length1":32,"length2":54},{"diffs":[[0,"d( ra )\n"],[-1,""],[0,"        "]],"start1":934,"start2":934,"length1":16,"length2":16},{"diffs":[[0,"            "],[1,"#"],[0,"print\n    \n "]],"start1":942,"start2":942,"length1":24,"length2":25}]],"length":1152,"saved":false}
{"ts":1352639272786,"patch":[[{"diffs":[[0,"  print "],[-1,"data"],[1,"len(data[0])"],[0,"\n       "]],"start1":648,"start2":648,"length1":20,"length2":28},{"diffs":[[0,"    "],[-1,"pass\n                #"],[0,"prin"]],"start1":786,"start2":786,"length1":30,"length2":8},{"diffs":[[0,"t data[x"],[-1,","],[1,"]["],[0,"y],\n    "]],"start1":794,"start2":794,"length1":17,"length2":18}]],"length":1139,"saved":false}
{"ts":1352639400540,"patch":[[{"diffs":[[0,"mg)\n"],[-1,"        print len(data[0])\n"],[0,"    "]],"start1":638,"start2":638,"length1":35,"length2":8},{"diffs":[[0,"ize["],[-1,"1]-2"],[1,"0]-1"],[0,"):\n "]],"start1":690,"start2":690,"length1":12,"length2":12},{"diffs":[[0,"ize["],[-1,"0]-2"],[1,"1]-1"],[0,"):\n "]],"start1":736,"start2":736,"length1":12,"length2":12},{"diffs":[[0,"            "],[1,"#"],[0,"print data[x"]],"start1":751,"start2":751,"length1":24,"length2":25},{"diffs":[[0,"ta[x"],[-1,"]["],[1,","],[0,"y],\n"]],"start1":772,"start2":772,"length1":10,"length2":9},{"diffs":[[0,"        "],[-1,"#"],[0,"g = G(da"]],"start1":806,"start2":806,"length1":17,"length2":16},{"diffs":[[0,"        "],[-1,"#"],[0,"ra = vec"]],"start1":840,"start2":840,"length1":17,"length2":16},{"diffs":[[0,"        "],[-1,"#"],[0,"ras.appe"]],"start1":874,"start2":874,"length1":17,"length2":16},{"diffs":[[0,"            "],[-1,"#"],[0,"print\n    \n "]],"start1":899,"start2":899,"length1":25,"length2":24}]],"length":1108,"saved":false}
{"contributors":["meneer@koenbollen.nl"],"silentsave":false,"ts":1352639701723,"patch":[[{"diffs":[[0,"json"],[-1,"\nimport numpy"],[0,"\n\nve"]],"start1":86,"start2":86,"length1":21,"length2":8},{"diffs":[[0,"lf.y**2)"],[1,"\nvector.__add__ = lambda self, other: vector(self.x+other.x, self.y+other.y)"],[0,"\n\nRA = n"]],"start1":177,"start2":177,"length1":16,"length2":92},{"diffs":[[0,"a = "],[-1,"numpy.asarray(img"],[1,"img.load("],[0,")\n  "]],"start1":682,"start2":682,"length1":25,"length2":17},{"diffs":[[0,"ize["],[-1,"0"],[1,"1"],[0,"]-1)"]],"start1":745,"start2":745,"length1":9,"length2":9},{"diffs":[[0,"ize["],[-1,"1"],[1,"0"],[0,"]-1):\n"],[-1,"                #print data[x,y],\n                \n"],[0,"    "]],"start1":791,"start2":791,"length1":66,"length2":15},{"diffs":[[0,"nd( ra )"],[-1,"\n            print"],[0,""],[1,""],[0,"\n    \n  "]],"start1":894,"start2":894,"length1":34,"length2":16}]],"length":1094,"saved":false}
{"ts":1352639720663,"patch":[[{"diffs":[[0,"her.y)\n\n"],[1,"a = vector(2,4)\nb = vector( 5, 3)\nprint a+b\n\n"],[0,"RA = nam"]],"start1":255,"start2":255,"length1":16,"length2":61}]],"length":1139,"saved":false}
{"ts":1352639735352,"patch":[[{"diffs":[[0,"nt a+b\n\n"],[1,"sys.exit(1)\n\n"],[0,"RA = nam"]],"start1":300,"start2":300,"length1":16,"length2":29}]],"length":1152,"saved":false}
{"ts":1352639755746,"patch":[[{"diffs":[[0," 3)\n"],[1,"a += b\n"],[0,"print a"],[-1,"+b"],[0,"\n\nsy"]],"start1":293,"start2":293,"length1":17,"length2":22}]],"length":1157,"saved":false}
{"ts":1352639874373,"patch":[[{"diffs":[[0,"other.y)"],[1,"\nvector.dot = lambda self, other: self.x+other.x * self.y+other.y"],[0,"\n\na = ve"]],"start1":253,"start2":253,"length1":16,"length2":81}]],"length":1222,"saved":false}
{"ts":1352639879802,"patch":[[{"diffs":[[0,"ther: self.x"],[-1,"+"],[1," + "],[0,"other.x * se"]],"start1":289,"start2":289,"length1":25,"length2":27},{"diffs":[[0,"r.x * self.y"],[-1,"+"],[1," + "],[0,"other.y\n\na ="]],"start1":308,"start2":308,"length1":25,"length2":27}]],"length":1226,"saved":false}
{"ts":1352639910290,"patch":[[{"diffs":[[0,"f.y**2)\n"],[1,"vector.normalized = lambda self: vector(self.x / self.length(), self.y / self.length() )\n"],[0,"vector._"]],"start1":178,"start2":178,"length1":16,"length2":105}]],"length":1315,"saved":false}
{"ts":1352639916124,"patch":[[{"diffs":[[0,"\nprint a"],[1,".normalized()"],[0,"\n\nsys.ex"]],"start1":461,"start2":461,"length1":16,"length2":29}]],"length":1328,"saved":false}
{"ts":1352639933930,"patch":[[{"diffs":[[0," 3)\n"],[-1,"a += b\n"],[0,"print "],[1,"b.dot("],[0,"a.no"]],"start1":451,"start2":451,"length1":21,"length2":20},{"diffs":[[0,"alized()"],[1,")"],[0,"\n\nsys.ex"]],"start1":473,"start2":473,"length1":16,"length2":17}]],"length":1328,"saved":false}
{"ts":1352639969468,"patch":[[{"diffs":[[0,"**2)"],[-1,"\nvector.normalized = lambda self: vector(self.x / self.length(), self.y / self.length() )\nvector.__add__ = lambda self, other: vector(self.x+other.x, self.y+other.y)\nvector.dot = lambda self, other: self.x + other.x * self.y + other.y\n\na = vector(2,4)\nb = vector( 5, 3)\nprint b.dot(a.normalized())\n\nsys.exit(1)"],[0,"\n\nRA"]],"start1":181,"start2":181,"length1":318,"length2":8}]],"length":1018,"saved":false}
{"ts":1352640836042,"patch":[[{"diffs":[[0,"result)\n"],[1,"    print result\n"],[0,"    \nif "]],"start1":968,"start2":968,"length1":16,"length2":33}]],"length":1035,"saved":false}
{"ts":1352640864991,"patch":[[{"diffs":[[0,"uple"],[-1,"\nimport json"],[0,"\n\nve"]],"start1":74,"start2":74,"length1":20,"length2":8},{"diffs":[[0,"c )\n"],[-1,"    print json.dumps(result)\n"],[0,"    "]],"start1":931,"start2":931,"length1":37,"length2":8}]],"length":994,"saved":false}
{"ts":1352640875724,"patch":[[{"diffs":[[0,"medtuple"],[1,"\nimport json"],[0,"\n\nvector"]],"start1":70,"start2":70,"length1":16,"length2":28},{"diffs":[[0,"  print "],[1,"json.dumps("],[0,"result"],[1,")"],[0,"\n    \nif"]],"start1":949,"start2":949,"length1":22,"length2":34}]],"length":1018,"saved":false}
{"ts":1352641682959,"patch":[[{"diffs":[[0,"result = []\n"],[1,"    \n    filetmpl = sys.argv[1]\n    print filetmpl\n    return\n    i = 0\n"],[0,"    for file"]],"start1":391,"start2":391,"length1":24,"length2":96}]],"length":1090,"saved":false}
{"ts":1352641704909,"patch":[[{"diffs":[[0,"t json\n\n"],[1,"from glob import glob\n\n"],[0,"vector ="]],"start1":84,"start2":84,"length1":16,"length2":39},{"diffs":[[0,"file"],[-1,"tmpl = "],[1,"s = glob("],[0,"sys."]],"start1":435,"start2":435,"length1":15,"length2":17},{"diffs":[[0,".argv[1]"],[1,")"],[0,"\n    pri"]],"start1":451,"start2":451,"length1":16,"length2":17},{"diffs":[[0,"file"],[-1,"tmpl"],[1,"s"],[0,"\n   "]],"start1":471,"start2":471,"length1":12,"length2":9}]],"length":1113,"saved":false}
{"ts":1352641715649,"patch":[[{"diffs":[[0,"files = "],[1,"sorted("],[0,"glob(sys"]],"start1":435,"start2":435,"length1":16,"length2":23},{"diffs":[[0,"argv[1])"],[1,")"],[0,"\n    pri"]],"start1":459,"start2":459,"length1":16,"length2":17}]],"length":1121,"saved":false}
{"ts":1352641723903,"patch":[[{"diffs":[[0,"]))\n"],[-1,"    print files\n"],[0,"    "]],"start1":465,"start2":465,"length1":24,"length2":8},{"diffs":[[0,"urn\n"],[-1,"    i = 0\n"],[0,"    "]],"start1":476,"start2":476,"length1":18,"length2":8},{"diffs":[[0," in "],[-1,"sys.argv[1:]"],[1,"files"],[0,":\n  "]],"start1":496,"start2":496,"length1":20,"length2":13}]],"length":1088,"saved":false}
{"ts":1352641728839,"patch":[[{"diffs":[[0,"gv[1]))\n"],[1,"    print files\n"],[0,"    retu"]],"start1":461,"start2":461,"length1":16,"length2":32}]],"length":1104,"saved":false}
{"ts":1352641737071,"patch":[[{"diffs":[[0,"]))\n"],[-1,"    print files\n    return\n"],[0,"    "]],"start1":465,"start2":465,"length1":35,"length2":8}]],"length":1077,"saved":false}
{"ts":1352641900560,"patch":[[{"diffs":[[0,"t = []\n    \n"],[1,"    for pattern in sys.argv[1:]:\n    "],[0,"    files = "]],"start1":419,"start2":419,"length1":24,"length2":61},{"diffs":[[0,"gv[1]))\n"],[1,"    "],[0,"    for "]],"start1":498,"start2":498,"length1":16,"length2":20},{"diffs":[[0,"    "],[1,"  "],[1,"  "],[0,"try:\n"],[1,"    "],[0,"    "]],"start1":541,"start2":541,"length1":13,"length2":21},{"diffs":[[0,"    "],[1,"    "],[0,"except:\n"],[1,"    "],[0,"    "]],"start1":603,"start2":603,"length1":16,"length2":24},{"diffs":[[0,"        "],[1,"    "],[0,"continue"]],"start1":685,"start2":685,"length1":16,"length2":20},{"diffs":[[0,"ontinue\n        "],[1,"   "],[-1,"\n"],[1," \n    "],[0,"        data = i"]],"start1":698,"start2":698,"length1":33,"length2":41},{"diffs":[[0,"        "],[1,"  "],[1,"  "],[0,"ras = []"]],"start1":749,"start2":749,"length1":16,"length2":20},{"diffs":[[0,"   ras = []\n"],[1,"    "],[0,"        for "]],"start1":758,"start2":758,"length1":24,"length2":28},{"diffs":[[0,"            "],[1," "],[1,"   "],[0,"for x in xra"]],"start1":816,"start2":816,"length1":24,"length2":28},{"diffs":[[0,"size[0]-1):\n"],[1,"    "],[0,"            "]],"start1":854,"start2":854,"length1":24,"length2":28},{"diffs":[[0,"        "],[1,"    "],[0,"ra = vec"]],"start1":912,"start2":912,"length1":16,"length2":20},{"diffs":[[0,"r2ra(g)\n"],[1,"    "],[0,"        "]],"start1":934,"start2":934,"length1":16,"length2":20},{"diffs":[[0,"a )\n    "],[-1,"\n"],[1,"    \n  "],[0,"        "],[1,"  "],[0,"c = sum("]],"start1":975,"start2":975,"length1":25,"length2":33},{"diffs":[[0,"as)) #6\n        "],[-1,"\n"],[1,"    \n    "],[0,"        result.a"]],"start1":1063,"start2":1063,"length1":33,"length2":41},{"diffs":[[0,"nd( c )\n"],[1,"    "],[0,"    prin"]],"start1":1107,"start2":1107,"length1":16,"length2":20}]],"length":1190,"saved":false}
{"ts":1352641917838,"patch":[[{"diffs":[[0,"lob("],[-1,"sys.argv[1]"],[1,"pattern"],[0,"))\n "]],"start1":488,"start2":488,"length1":19,"length2":15}]],"length":1186,"saved":false}
{"contributors":[],"silentsave":false,"ts":1352641996872,"patch":[[{"diffs":[[0,"   \n"],[-1,"    result = []\n    \n"],[0,"    "]],"start1":406,"start2":406,"length1":29,"length2":8},{"diffs":[[0,"gv[1:]:\n"],[1,"        result = []\n"],[0,"        "]],"start1":435,"start2":435,"length1":16,"length2":36}]],"length":1185,"saved":false}
